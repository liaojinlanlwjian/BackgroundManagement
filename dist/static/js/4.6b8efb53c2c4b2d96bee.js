webpackJsonp([4],{FAin:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=o("msYM"),i={data:function(){return{formLabelWidth:"120px",dialogFormVisible2:!1,dialogFormVisible:!1,tableData:[],indexxx:0,id:"",form:{type:"",num:"",time:"",value:"",Nowtime:"",status:"未使用"},cities:[{zhushi:"Meizhuang",value:"美妆",label:"美妆"},{zhushi:"Nvzhuang",value:"女装",label:"女装"},{zhushi:"Nanzhuang",value:"男装",label:"男装"},{zhushi:"Computer",value:"电脑",label:"电脑"},{zhushi:"Shabidebi",value:"猪头",label:"猪头"}]}},mounted:function(){this.getdata()},methods:{handleAdd:function(){this.indexxx=0,this.getTime(),this.dialogFormVisible2=!0,this.form.Nowtime=this.currentDate,this.form.type="",this.form.num=1,this.form.value="",this.form.time=""},addcoupons:function(){var t=this;Object(l.a)(this.form).then(function(e){t.dialogFormVisible2=!1,t.getdata(),t.$message({message:"添加成功",type:"success"})},function(e){t.$message({message:"添加失败",type:"error"})}),this.dialogFormVisible2=!1},getdata:function(){var t=this;Object(l.d)().then(function(e){t.tableData=e},function(t){console.log("error")})},handleEdit:function(t,e){this.indexxx=2,this.id=e.id,this.dialogFormVisible2=!0,this.form.Nowtime=e.Nowtime,this.form.type=e.type,this.form.num=e.num,this.form.value=e.value,this.form.time=e.time},editcoupons:function(){var t=this;Object(l.h)(this.id,this.form).then(function(e){t.getdata(),t.dialogFormVisible2=!1,t.$message({message:"修改成功",type:"success"})},function(e){t.$message({message:"修改失败",type:"error"})})},handleDelete:function(t,e){this.id=e.id,this.dialogFormVisible=!0,this.form.Nowtime=e.Nowtime,this.form.type=e.type,this.form.num=e.num,this.form.value=e.value,this.form.time=e.time},delcoupons:function(){var t=this;Object(l.c)(this.id).then(function(e){t.getdata(),t.dialogFormVisible=!1,t.$message({message:"修改成功",type:"success"})},function(e){t.$message({message:"修改失败",type:"error"})})},getTime:function(){var t=new Date,e=t.getMonth()+1,o=t.getDate();e>=1&&e<=9&&(e="0"+e),o>=0&&o<=9&&(o="0"+o),this.currentDate=t.getFullYear()+"-"+e+"-"+o+" "+t.getHours()+":"+t.getMinutes()}}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{label:"创建时间",prop:"Nowtime"}}),t._v(" "),o("el-table-column",{attrs:{label:"使用类型",prop:"type"}}),t._v(" "),o("el-table-column",{attrs:{label:"数量",prop:"num"}}),t._v(" "),o("el-table-column",{attrs:{label:"可使用金额",prop:"value"}}),t._v(" "),o("el-table-column",{attrs:{label:"截止时间",prop:"time"}}),t._v(" "),o("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"info"},on:{click:t.handleAdd}},[t._v("Add")])]}},{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",color:"#3fc1c9"},on:{click:function(o){return t.handleEdit(e.$index,e.row)}}},[t._v("Edit")]),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){return t.handleDelete(e.$index,e.row)}}},[t._v("Delete\n\t\t\t\t")])]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:"添加优惠券",visible:t.dialogFormVisible2},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"优惠券数量:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.form.Nowtime,callback:function(e){t.$set(t.form,"Nowtime",e)},expression:"form.Nowtime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券使用类型:","label-width":t.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.cities,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),o("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.zhushi))])])}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券数量:","label-width":t.formLabelWidth}},[o("el-input-number",{attrs:{"controls-position":"right",min:1,max:1e3},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券金额:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券结束时间:","label-width":t.formLabelWidth}},[o("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.indexxx<1?t.addcoupons():t.editcoupons()}}},[t._v("确 定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"确定要删除此项优惠券么？",visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"优惠券数量:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{placeholder:"请输入内容",disabled:!0},model:{value:t.form.Nowtime,callback:function(e){t.$set(t.form,"Nowtime",e)},expression:"form.Nowtime"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券使用类型:","label-width":t.formLabelWidth}},[o("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},t._l(t.cities,function(e){return o("el-option",{key:e.value,attrs:{label:e.label,disabled:!0,value:e.value}},[o("span",{staticStyle:{float:"left"}},[t._v(t._s(e.label))]),t._v(" "),o("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[t._v(t._s(e.zhushi))])])}),1)],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券数量:","label-width":t.formLabelWidth}},[o("el-input-number",{attrs:{disabled:!0,"controls-position":"right",min:1,max:1e3},model:{value:t.form.num,callback:function(e){t.$set(t.form,"num",e)},expression:"form.num"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券金额:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"优惠券结束时间:","label-width":t.formLabelWidth}},[o("el-date-picker",{attrs:{type:"date",disabled:!0,placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.form.time,callback:function(e){t.$set(t.form,"time",e)},expression:"form.time"}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:t.delcoupons}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=o("VU/8")(i,a,!1,function(t){o("zjRU")},"data-v-b90b997a",null);e.default=r.exports},msYM:function(t,e,o){"use strict";e.d=function(){return Object(l.a)({url:"/couponsList",method:"get"})},e.f=function(t){return Object(l.a)({url:"/couponsList/?type="+t,method:"get"})},e.e=function(t,e){return Object(l.a)({url:"/usercouponsList/?name="+t+"&status="+e,method:"get"})},e.a=function(t){return Object(l.a)({url:"/couponsList",method:"post_noqs",data:t})},e.h=function(t,e){return Object(l.a)({url:"/couponsList/"+t,method:"put",data:e})},e.c=function(t){return Object(l.a)({url:"/couponsList/"+t,method:"delete"})},e.g=function(t,e){return Object(l.a)({url:"/couponsList/"+t,method:"patch",data:e})},e.b=function(t){return Object(l.a)({url:"/usercouponsList",method:"post_noqs",data:t})};var l=o("syOD")},zjRU:function(t,e){}});
//# sourceMappingURL=4.6b8efb53c2c4b2d96bee.js.map