webpackJsonp([8],{p7Ux:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=o("gTic"),i={data:function(){return{flow:2,dialogFormtitle:"",num4:0,tableData:[],tableData_two:[],dialogFormVisible2:!1,dialogFormVisible:!1,formLabelWidth:"100px",formLabelWidth1:"90px",form:{id:"",name:"",icon:""},sub_form:[{sub_name:"",sub_id:"",sub_url:""}],form1:{id:"",name:"",icon:""}}},mounted:function(){this.getdata()},methods:{addMenu:function(){var t=this;console.log(this.form.name),console.log(this.num4),console.log(this.form.id),console.log(this.form.icon),console.log(this.sub_form[0].sub_name),console.log(this.sub_form[0].sub_id),console.log(this.sub_form[0].sub_url),console.log(this.sub_form[0]),console.log(this.sub_form[1]);var e={id:this.form.id,title:this.form.name,icon:this.form.icon,submenu:[{id:this.sub_form.sub_id,title:this.sub_form.sub_name,url:this.sub_form.sub_url}]};Object(l.a)(e).then(function(e){t.getdata(),t.$message({message:"添加成功，尊贵的管理员",type:"success"})},function(e){t.$message.error("添加失败，尊贵的管理员")})},editMenu:function(t,e){this.dialogFormtitle="修改主菜单",console.log(this.flow),this.dialogFormVisible=!0,this.form1={name:e.title,id:e.id}},submitMenu:function(){var t=this;console.log(this.form1.icon);var e={title:this.form1.name,icon:this.form1.icon};Object(l.b)(this.form1.id,e).then(function(e){t.getdata(),t.$message({message:"修改成功，尊贵的管理员",type:"success"}),setTimeout(function(){window.location.reload()},1e3)},function(e){t.$message.error("修改失败，尊贵的管理员")})},delMenu:function(){var t=this;console.log(this.form1.id),Object(l.c)(this.form1.id).then(function(e){t.getdata(),t.$message({message:"删除成功，尊贵的管理员",type:"success"}),setTimeout(function(){window.location.reload()},1e3)},function(e){t.$message.error("删除失败，尊贵的管理员")})},getdata:function(){var t=this;Object(l.e)().then(function(e){t.tableData=e},function(t){console.log("error")})},handleEdit:function(t,e){console.log(t,e),this.form={name:e.title,id:e.id}},handleDelete:function(t,e){this.flow=0,console.log("del"),this.dialogFormtitle="确定要删除此消息么？",this.form1={name:e.title,id:e.id,icon:e.icon},console.log(t,e)}}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-button",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible2=!0}}},[t._v("添加菜单")]),t._v(" "),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.row.submenu}},[o("el-table-column",{attrs:{label:"子级菜单 ID",prop:"id"}}),t._v(" "),o("el-table-column",{attrs:{label:"子级菜单名称",prop:"title"}}),t._v(" "),o("el-table-column",{attrs:{label:"url",prop:"url"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"warning",icon:"el-icon-delete"},on:{click:function(o){return t.handleDelete(e.$index,e.row)}}}),t._v(" "),o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit",circle:""}})]}}],null,!0)})],1)]}}])}),t._v(" "),o("el-table-column",{attrs:{label:"主级菜单 ID",prop:"id"}}),t._v(" "),o("el-table-column",{attrs:{label:"主级菜单名称",prop:"title"}}),t._v(" "),o("el-table-column",{attrs:{label:"icon",prop:"icon"}}),t._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:function(o){return t.handleEdit(e.$index,e.row,t.dialogFormVisible2=!0)}}}),t._v(" "),o("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(o){return t.handleDelete(e.$index,e.row,t.dialogFormVisible=!0)}}}),t._v(" "),o("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",circle:""},on:{click:function(o){return t.editMenu(e.$index,e.row)}}})]}}])})],1),t._v(" "),o("el-dialog",{attrs:{title:"添加数据",visible:t.dialogFormVisible2},on:{"update:visible":function(e){t.dialogFormVisible2=e}}},[o("el-form",{attrs:{model:t.form}},[o("el-form-item",{attrs:{label:"父级菜单名称:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"父级菜单ID:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.id,callback:function(e){t.$set(t.form,"id",e)},expression:"form.id"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"父级菜单icon:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.icon,callback:function(e){t.$set(t.form,"icon",e)},expression:"form.icon"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"图标样式:","label-width":t.formLabelWidth}},[o("el-button",{attrs:{icon:t.form.icon,circle:""}})],1),t._v(" "),o("el-form-item",{attrs:{label:"子级菜单数量:","label-width":t.formLabelWidth}},[o("el-input-number",{attrs:{size:"mini"},model:{value:t.num4,callback:function(e){t.num4=e},expression:"num4"}})],1),t._v(" "),o("el-row",{attrs:{gutter:20}},t._l(t.num4,function(e){return o("el-col",{key:e,attrs:{span:8}},[o("el-card",{staticClass:"box-card",staticStyle:{width:"220px","margin-top":"10px"}},[o("el-form-item",{attrs:{label:"子级菜单id:","label-width":t.formLabelWidth1}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.sub_form.sub_id,callback:function(e){t.$set(t.sub_form,"sub_id",e)},expression:"sub_form.sub_id"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"子级菜单url:","label-width":t.formLabelWidth1}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.sub_form.sub_url,callback:function(e){t.$set(t.sub_form,"sub_url",e)},expression:"sub_form.sub_url"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"菜单name:","label-width":t.formLabelWidth1}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.sub_form.sub_name,callback:function(e){t.$set(t.sub_form,"sub_name",e)},expression:"sub_form.sub_name"}})],1)],1)],1)}),1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible2=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addMenu(t.dialogFormVisible2=!1)}}},[t._v("确 定")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:t.dialogFormtitle,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[o("el-form",{attrs:{model:t.form1}},[o("el-form-item",{attrs:{label:"菜单名称:","label-width":t.formLabelWidth}},[o("el-tag",{attrs:{type:"success"}},[t._v(t._s(t.form1.name))])],1),t._v(" "),o("el-form-item",{attrs:{label:"菜单名称:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form1.name,callback:function(e){t.$set(t.form1,"name",e)},expression:"form1.name"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"菜单图标:","label-width":t.formLabelWidth}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.form1.icon,callback:function(e){t.$set(t.form1,"icon",e)},expression:"form1.icon"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"图标样式:","label-width":t.formLabelWidth}},[o("el-button",{attrs:{icon:t.form1.icon,circle:""}})],1)],1),t._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.flow>1?t.submitMenu(t.dialogFormVisible=!1):t.delMenu(t.dialogFormVisible=!1)}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var a=o("VU/8")(i,n,!1,function(t){o("z3/x")},null,null);e.default=a.exports},"z3/x":function(t,e){}});
//# sourceMappingURL=8.08734d7630f3af5f7b0c.js.map